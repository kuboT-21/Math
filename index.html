<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>2けたのかけざん練習</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Zen Maru Gothic', sans-serif; background-color: #fdfcf0; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .box { background: white; padding: 40px; border-radius: 30px; box-shadow: 0 8px 0 #eddeaf; text-align: center; border: 4px solid #ff9800; }
        .q { font-size: 4rem; margin-bottom: 20px; color: #444; }
        input { font-family: 'Zen Maru Gothic', sans-serif; font-size: 3rem; width: 200px; text-align: center; border: 3px solid #ccc; border-radius: 15px; outline: none; }
        input:focus { border-color: #ff9800; }
        #feedback { font-size: 2.5rem; height: 60px; margin-top: 20px; font-weight: bold; }
        .maru { color: #f44336; }
        .batsu { color: #2196f3; }
        button { font-family: 'Zen Maru Gothic', sans-serif; font-size: 1.5rem; background: #ff9800; color: white; border: none; padding: 15px 40px; border-radius: 50px; cursor: pointer; box-shadow: 0 4px 0 #e68a00; }
        button:active { transform: translateY(4px); box-shadow: none; }
    </style>
</head>
<body>
<div class="box">
    <div class="q" id="question">-- × --</div>
    <input type="text" id="ans" placeholder="？" inputmode="numeric">
    <div id="feedback"></div>
    <button id="btn" onclick="check()">こたえあわせ</button>
</div>

<script>
    let a, b, goal;
    const qEl = document.getElementById('question');
    const ansEl = document.getElementById('ans');
    const fbEl = document.getElementById('feedback');
    const btnEl = document.getElementById('btn');

    function newQ() {
        a = Math.floor(Math.random() * 90) + 10;
        b = Math.floor(Math.random() * 8) + 2;
        goal = a * b;
        qEl.innerText = a + " × " + b;
        ansEl.value = "";
        fbEl.innerText = "";
        btnEl.innerText = "こたえあわせ";
        btnEl.onclick = check;
        ansEl.focus();
    }

    ansEl.addEventListener('input', () => {
        ansEl.value = ansEl.value.replace(/[０-９]/g, s => String.fromCharCode(s.charCodeAt(0) - 0xFEE0)).replace(/[^0-9]/g, '');
    });

    function check() {
        if (ansEl.value == goal) {
            fbEl.innerText = "○ せいかい！";
            fbEl.className = "maru";
            btnEl.innerText = "つぎへ";
            btnEl.onclick = newQ;
        } else {
            fbEl.innerText = "× ざんねん！";
            fbEl.className = "batsu";
        }
    }

    ansEl.addEventListener('keypress', e => { if(e.key==='Enter') btnEl.click(); });
    newQ();
</script>
</body>
</html>